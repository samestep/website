<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&amp;family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/monokai.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"
    />
    <link rel="stylesheet" href="/blog.css" />
    <link rel="stylesheet" href="style.css" />
    <title>How much slower are linked lists, really? | Sam Estep</title>
  </head>
  <body>
    <main>
      <h1>How much slower are linked lists, really?</h1>
      <p>
        <em>by <a href="/">Sam Estep</a>, unpublished</em>
      </p>
      <div>
        <p>
          This is a followup to my previous post titled
          <a href="/blog/random-access/"
            >&quot;How much slower is random access, really?&quot;</a
          >
          which to my surprise, ended up getting some attention
          <a href="https://news.ycombinator.com/item?id=44356385"
            >on Hacker News</a
          >. Here is the top comment (as of today), by @andersa:
        </p>
        <blockquote>
          <p>
            Note this is not true random access in the manner it occurs in most
            programs. By having a contiguous array of indices to look at, that
            array can be prefetched as it goes, and speculative execution will
            take care of loading many upcoming indices of the target array in
            parallel.
          </p>
          <p>
            A more interesting example might be if each slot in the target array
            has the next index to go to in addition to the value, then you will
            introduce a dependency chain preventing this from happening.
          </p>
        </blockquote>
        <p>
          A great point! Let's do it. I have a shorter list of questions this
          time:
        </p>
        <ol>
          <li>
            Compared to the original two separate arrays, how much slower is
            iterating over these pairs in first-to-last layout?
          </li>
          <li>
            Compared to the original two separate arrays, how much slower is
            iterating over these pairs in random layout?
          </li>
        </ol>
        <p>I'm also not going to bother with arrays too big for RAM.</p>
        <p>
          Before running these new experiments, my guess was that they'd both be
          about 2x slower on linked lists compared to separate arrays. As a
          brief recap, that would mean <em>roughly</em> 2ns per list element in
          any layout except <em>roughly</em> 8-16ns per element in random layout
          for lists with more than a million elements.
        </p>
        <details>
          <summary>Spoiler...</summary>
          <p>
            I was pretty much exactly right for question 1!
            <strong>But <em>very wrong</em> for question 2.</strong>
          </p>
        </details>
        <h2>Setup</h2>
        <p>
          As a recap, previously we had <strong>two arrays</strong>, one holding
          indices (shown on the top), and the other holding the actual numbers
          we want to sum:
        </p>
        <div class="svg">
          <svg viewBox="0 0 300 150" height="150">
            <rect
              x="5"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="25"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              4
            </text>
            <path
              d="M 25 50 C 25 75, 225 75, 225 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="55"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="75"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              0
            </text>
            <path
              d="M 75 50 C 75 75, 25 75, 25 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="105"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="125"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              3
            </text>
            <path
              d="M 125 50 C 125 75, 175 75, 175 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="155"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="175"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              5
            </text>
            <path
              d="M 175 50 C 175 75, 275 75, 275 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="205"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="225"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              1
            </text>
            <path
              d="M 225 50 C 225 75, 75 75, 75 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="255"
              y="5"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="275"
              y="25"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              2
            </text>
            <path
              d="M 275 50 C 275 75, 125 75, 125 100"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></path>
            <rect
              x="5"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="25"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              α
            </text>
            <rect
              x="55"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="75"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              β
            </text>
            <rect
              x="105"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="125"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              γ
            </text>
            <rect
              x="155"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="175"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              δ
            </text>
            <rect
              x="205"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="225"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              ε
            </text>
            <rect
              x="255"
              y="105"
              width="40"
              height="40"
              fill="none"
              stroke="white"
              stroke-width="2"
            ></rect>
            <text
              x="275"
              y="125"
              fill="white"
              text-anchor="middle"
              dominant-baseline="central"
            >
              ζ
            </text>
          </svg>
        </div>
        <p>in contrast, this time ...</p>
        <details>
          <summary>Expand this to see the core of the Rust code.</summary>
          <pre><code class="language-rust"><span class="hljs-keyword">use</span> std::{fmt, ops::AddAssign};

<span class="hljs-keyword">use</span> num::{Float, Num};

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Number</span>: <span class="hljs-built_in">Sized</span> + <span class="hljs-built_in">Copy</span> + <span class="hljs-built_in">Into</span>&lt;<span class="hljs-type">f64</span>&gt; + AddAssign + Num + Float {}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Number</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">f32</span> {}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Number</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">f64</span> {}

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Int</span>: <span class="hljs-built_in">Copy</span> + TryFrom&lt;<span class="hljs-type">usize</span>, Error: fmt::<span class="hljs-built_in">Debug</span>&gt; + Num {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">to_usize</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span>;
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Int</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">u32</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">to_usize</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
        <span class="hljs-keyword">self</span> <span class="hljs-keyword">as</span> <span class="hljs-type">usize</span>
    }
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Int</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">u64</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">to_usize</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
        <span class="hljs-keyword">self</span> <span class="hljs-keyword">as</span> <span class="hljs-type">usize</span>
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">sum_pairs</span>&lt;T: Number, I: Int&gt;(pairs: &amp;[(T, I)]) <span class="hljs-punctuation">-&gt;</span> T {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">total</span> = T::<span class="hljs-title function_ invoke__">zero</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">i</span> = I::<span class="hljs-title function_ invoke__">zero</span>();
    <span class="hljs-keyword">loop</span> {
        <span class="hljs-keyword">match</span> pairs.<span class="hljs-title function_ invoke__">get</span>(i.<span class="hljs-title function_ invoke__">to_usize</span>()) {
            <span class="hljs-title function_ invoke__">Some</span>(&amp;(x, j)) =&gt; {
                total += x;
                i = j;
            }
            <span class="hljs-literal">None</span> =&gt; <span class="hljs-keyword">return</span> total,
        }
    }
}
</code></pre>
        </details>
        <h2>Results</h2>
        <p>I'm running these experiments on the same two machines as before:</p>
        <ul>
          <li>
            A 2020 MacBook Pro with M1 chip, 16 GiB of RAM, and a 1 TB SSD.
          </li>
          <li>
            A Linux desktop with an AMD Ryzen 5 3600X, 24 GiB of Corsair
            Vengeance LPX DDR4 3000MHz DRAM, and a Western Digital 1 TB 3D NAND
            SATA SSD.
          </li>
        </ul>
        <p>
          A different HN commenter (@archi42) noted that 24 GiB is a bit of a
          weird amount of RAM, and I responded that it's because I originally
          had four 8 GiB RAM sticks, but one stopped working so I removed it a
          while ago. They suggested that may be a cause of some of my weird data
          for larger arrays on Linux:
        </p>
        <blockquote>
          <p>
            I'm not deep into the details of the AMD DRAM controller, but this
            detail could cause some of your anomalies. If this was an academic
            paper, the findings would be borderline invalid. You might want to
            remove the extra module and run the benchmarks again.
          </p>
        </blockquote>
        <p>
          I did not end up doing that for this post, and as you'll see, it does
          not affect the high-level takeaway.
        </p>
        <h3>MacBook</h3>
        <div class="selection">
          <div class="macbook-32bit">
            <p>
              Here are the results for <strong>32 bits</strong>, showing both
              <span style="color: hsl(42 100% 75%)">shuffled</span> and
              <span style="color: hsl(222 100% 75%)">unshuffled</span>.
            </p>
          </div>
          <div class="macbook-64bit">
            <p>
              Here are the results for <strong>64 bits</strong>, showing both
              <span style="color: hsl(42 100% 75%)">shuffled</span> and
              <span style="color: hsl(222 100% 75%)">unshuffled</span>.
            </p>
          </div>
        </div>
        <div class="selectors">
          <div class="selector">
            <input
              type="radio"
              id="macbook-32bit"
              name="macbook-bits"
              checked
            /><label for="macbook-32bit">32-bit</label
            ><input type="radio" id="macbook-64bit" name="macbook-bits" /><label
              for="macbook-64bit"
              >64-bit</label
            >
          </div>
        </div>
        <div class="selection">
          <div class="macbook-32bit">
            <div class="svg">
              <svg viewBox="0 0 300 250" height="250">
                <text
                  x="0"
                  y="110"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                  transform="rotate(-90 0 110)"
                >
                  time per element
                </text>
                <text
                  x="50"
                  y="186.47058823529412"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  1ns
                </text>
                <text
                  x="50"
                  y="162.94117647058823"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  2ns
                </text>
                <text
                  x="50"
                  y="139.41176470588238"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  4ns
                </text>
                <text
                  x="50"
                  y="115.88235294117648"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  8ns
                </text>
                <text
                  x="50"
                  y="92.35294117647058"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  16ns
                </text>
                <text
                  x="50"
                  y="68.82352941176472"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  32ns
                </text>
                <text
                  x="50"
                  y="45.29411764705884"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  64ns
                </text>
                <text
                  x="50"
                  y="21.764705882352956"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  128ns
                </text>
                <line
                  x1="62.903225806451616"
                  y1="10"
                  x2="62.903225806451616"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="70.80645161290323"
                  y1="10"
                  x2="70.80645161290323"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="78.70967741935483"
                  y1="10"
                  x2="78.70967741935483"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="86.61290322580645"
                  y1="10"
                  x2="86.61290322580645"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="94.51612903225806"
                  y1="10"
                  x2="94.51612903225806"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="102.41935483870967"
                  y1="10"
                  x2="102.41935483870967"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="110.32258064516128"
                  y1="10"
                  x2="110.32258064516128"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="118.2258064516129"
                  y1="10"
                  x2="118.2258064516129"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="126.12903225806451"
                  y1="10"
                  x2="126.12903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="134.03225806451613"
                  y1="10"
                  x2="134.03225806451613"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="141.93548387096774"
                  y1="10"
                  x2="141.93548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="149.83870967741933"
                  y1="10"
                  x2="149.83870967741933"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="157.74193548387098"
                  y1="10"
                  x2="157.74193548387098"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="165.64516129032256"
                  y1="10"
                  x2="165.64516129032256"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="173.54838709677418"
                  y1="10"
                  x2="173.54838709677418"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="181.4516129032258"
                  y1="10"
                  x2="181.4516129032258"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="189.3548387096774"
                  y1="10"
                  x2="189.3548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="197.25806451612902"
                  y1="10"
                  x2="197.25806451612902"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="205.16129032258064"
                  y1="10"
                  x2="205.16129032258064"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="213.06451612903226"
                  y1="10"
                  x2="213.06451612903226"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="220.96774193548387"
                  y1="10"
                  x2="220.96774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="228.87096774193546"
                  y1="10"
                  x2="228.87096774193546"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="236.7741935483871"
                  y1="10"
                  x2="236.7741935483871"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="244.6774193548387"
                  y1="10"
                  x2="244.6774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="252.5806451612903"
                  y1="10"
                  x2="252.5806451612903"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="260.48387096774195"
                  y1="10"
                  x2="260.48387096774195"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="268.38709677419354"
                  y1="10"
                  x2="268.38709677419354"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="276.2903225806451"
                  y1="10"
                  x2="276.2903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="284.19354838709677"
                  y1="10"
                  x2="284.19354838709677"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="292.09677419354836"
                  y1="10"
                  x2="292.09677419354836"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="186.47058823529412"
                  x2="300"
                  y2="186.47058823529412"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="162.94117647058823"
                  x2="300"
                  y2="162.94117647058823"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="139.41176470588238"
                  x2="300"
                  y2="139.41176470588238"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="115.88235294117648"
                  x2="300"
                  y2="115.88235294117648"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="92.35294117647058"
                  x2="300"
                  y2="92.35294117647058"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="68.82352941176472"
                  x2="300"
                  y2="68.82352941176472"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="45.29411764705884"
                  x2="300"
                  y2="45.29411764705884"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="21.764705882352956"
                  x2="300"
                  y2="21.764705882352956"
                  stroke="#444"
                ></line>
                <polyline
                  points="55,77.75090798936756 62.903225806451616,104.97974386313746 70.80645161290323,124.76835946531206 78.70967741935483,152.65973322744466 86.61290322580645,162.3626908640406 94.51612903225806,157.95785938229318 102.41935483870967,159.59267486480098 110.32258064516128,159.20799587420007 118.2258064516129,160.89570962029651 126.12903225806451,161.38645335484998 134.03225806451613,162.08308255769595 141.93548387096774,162.1644715954339 149.83870967741933,162.0815876665612 157.74193548387098,158.13367161806121 165.64516129032256,154.31275033228246 173.54838709677418,129.43611833466002 181.4516129032258,128.81563747837083 189.3548387096774,126.11161530231138 197.25806451612902,124.6435023535113 205.16129032258064,119.66101844997846 213.06451612903226,107.53195200479014 220.96774193548387,68.6445851743247 228.87096774193546,46.4245319700311 236.7741935483871,36.667846109524874 244.6774193548387,31.61481586728027 252.5806451612903,29.278236056795976 260.48387096774195,28.2588561567228 268.38709677419354,27.068917981900483 276.2903225806451,25.787242436892456 284.19354838709677,24.903216967137695"
                  fill="none"
                  stroke="hsl(42 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <polyline
                  points="55,89.38866696812437 62.903225806451616,105.6165854155444 70.80645161290323,127.8689381071482 78.70967741935483,158.30772391010993 86.61290322580645,160.7536821335496 94.51612903225806,159.07520980956116 102.41935483870967,161.4469895927963 110.32258064516128,160.56399547108413 118.2258064516129,161.3165432642783 126.12903225806451,153.7905915631627 134.03225806451613,162.25157799150878 141.93548387096774,162.1942929414702 149.83870967741933,162.29448334136293 157.74193548387098,159.37141090821464 165.64516129032256,157.9092959637545 173.54838709677418,153.43214435961366 181.4516129032258,163.11783884136005 189.3548387096774,163.71531590957508 197.25806451612902,164.12471781973454 205.16129032258064,162.55817855397333 213.06451612903226,164.2717024500398 220.96774193548387,164.37955885994722 228.87096774193546,164.36229987015048 236.7741935483871,163.83649898506354 244.6774193548387,164.43372919389745 252.5806451612903,164.57537674165536 260.48387096774195,164.6123612246259 268.38709677419354,164.49517532379207 276.2903225806451,164.56467859679515 284.19354838709677,164.6944016473443"
                  fill="none"
                  stroke="hsl(222 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <text
                  x="133.7618435400713"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1K
                </text>
                <text
                  x="212.52368708014265"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1M
                </text>
                <text
                  x="291.285530620214"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1B
                </text>
                <text
                  x="177.5"
                  y="245"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="text-bottom"
                >
                  number of elements
                </text>
                <polyline
                  points="55,10 55,210 300,210"
                  fill="none"
                  stroke="white"
                  stroke-width="2"
                ></polyline>
              </svg>
            </div>
          </div>
          <div class="macbook-64bit">
            <div class="svg">
              <svg viewBox="0 0 300 250" height="250">
                <text
                  x="0"
                  y="110"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                  transform="rotate(-90 0 110)"
                >
                  time per element
                </text>
                <text
                  x="50"
                  y="186.47058823529412"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  1ns
                </text>
                <text
                  x="50"
                  y="162.94117647058823"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  2ns
                </text>
                <text
                  x="50"
                  y="139.41176470588238"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  4ns
                </text>
                <text
                  x="50"
                  y="115.88235294117648"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  8ns
                </text>
                <text
                  x="50"
                  y="92.35294117647058"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  16ns
                </text>
                <text
                  x="50"
                  y="68.82352941176472"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  32ns
                </text>
                <text
                  x="50"
                  y="45.29411764705884"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  64ns
                </text>
                <text
                  x="50"
                  y="21.764705882352956"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  128ns
                </text>
                <line
                  x1="62.903225806451616"
                  y1="10"
                  x2="62.903225806451616"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="70.80645161290323"
                  y1="10"
                  x2="70.80645161290323"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="78.70967741935483"
                  y1="10"
                  x2="78.70967741935483"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="86.61290322580645"
                  y1="10"
                  x2="86.61290322580645"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="94.51612903225806"
                  y1="10"
                  x2="94.51612903225806"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="102.41935483870967"
                  y1="10"
                  x2="102.41935483870967"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="110.32258064516128"
                  y1="10"
                  x2="110.32258064516128"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="118.2258064516129"
                  y1="10"
                  x2="118.2258064516129"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="126.12903225806451"
                  y1="10"
                  x2="126.12903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="134.03225806451613"
                  y1="10"
                  x2="134.03225806451613"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="141.93548387096774"
                  y1="10"
                  x2="141.93548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="149.83870967741933"
                  y1="10"
                  x2="149.83870967741933"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="157.74193548387098"
                  y1="10"
                  x2="157.74193548387098"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="165.64516129032256"
                  y1="10"
                  x2="165.64516129032256"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="173.54838709677418"
                  y1="10"
                  x2="173.54838709677418"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="181.4516129032258"
                  y1="10"
                  x2="181.4516129032258"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="189.3548387096774"
                  y1="10"
                  x2="189.3548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="197.25806451612902"
                  y1="10"
                  x2="197.25806451612902"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="205.16129032258064"
                  y1="10"
                  x2="205.16129032258064"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="213.06451612903226"
                  y1="10"
                  x2="213.06451612903226"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="220.96774193548387"
                  y1="10"
                  x2="220.96774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="228.87096774193546"
                  y1="10"
                  x2="228.87096774193546"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="236.7741935483871"
                  y1="10"
                  x2="236.7741935483871"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="244.6774193548387"
                  y1="10"
                  x2="244.6774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="252.5806451612903"
                  y1="10"
                  x2="252.5806451612903"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="260.48387096774195"
                  y1="10"
                  x2="260.48387096774195"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="268.38709677419354"
                  y1="10"
                  x2="268.38709677419354"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="276.2903225806451"
                  y1="10"
                  x2="276.2903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="284.19354838709677"
                  y1="10"
                  x2="284.19354838709677"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="292.09677419354836"
                  y1="10"
                  x2="292.09677419354836"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="186.47058823529412"
                  x2="300"
                  y2="186.47058823529412"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="162.94117647058823"
                  x2="300"
                  y2="162.94117647058823"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="139.41176470588238"
                  x2="300"
                  y2="139.41176470588238"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="115.88235294117648"
                  x2="300"
                  y2="115.88235294117648"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="92.35294117647058"
                  x2="300"
                  y2="92.35294117647058"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="68.82352941176472"
                  x2="300"
                  y2="68.82352941176472"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="45.29411764705884"
                  x2="300"
                  y2="45.29411764705884"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="21.764705882352956"
                  x2="300"
                  y2="21.764705882352956"
                  stroke="#444"
                ></line>
                <polyline
                  points="55,103.09421450762889 62.903225806451616,113.68491404110559 70.80645161290323,131.13150679757467 78.70967741935483,151.3229315656305 86.61290322580645,159.08467732201072 94.51612903225806,154.33006052721447 102.41935483870967,160.01094285812889 110.32258064516128,158.60867073080973 118.2258064516129,147.56325501039078 126.12903225806451,160.7574120959013 134.03225806451613,160.47833362355544 141.93548387096774,162.42458682409534 149.83870967741933,158.71866771198125 157.74193548387098,152.95538924125447 165.64516129032256,124.8993821863773 173.54838709677418,126.54781354174844 181.4516129032258,125.37342437307143 189.3548387096774,124.63368483137305 197.25806451612902,119.39212574758376 205.16129032258064,107.37768775947436 213.06451612903226,61.01206499581207 220.96774193548387,45.17741300071543 228.87096774193546,35.59674233473132 236.7741935483871,31.3440090423928 244.6774193548387,29.21825514756972 252.5806451612903,28.2038237749548 260.48387096774195,27.11690985138293 268.38709677419354,25.77429378800494 276.2903225806451,24.834150609336945 284.19354838709677,22.74834717200946"
                  fill="none"
                  stroke="hsl(42 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <polyline
                  points="55,96.50001505157006 62.903225806451616,120.07740670506651 70.80645161290323,128.37094603134926 78.70967741935483,155.38337489482583 86.61290322580645,157.9670202960359 94.51612903225806,160.92818524213425 102.41935483870967,149.21627141534876 110.32258064516128,160.40242207847976 118.2258064516129,157.20431470023487 126.12903225806451,161.98157962809236 134.03225806451613,162.1703041455578 141.93548387096774,161.52185822542486 149.83870967741933,162.12889045001936 157.74193548387098,157.01418075066795 165.64516129032256,155.41103063947628 173.54838709677418,160.92668177817836 181.4516129032258,162.97612903185987 189.3548387096774,163.77815093415168 197.25806451612902,163.7628591142096 205.16129032258064,163.50538830903375 213.06451612903226,163.83756612101368 220.96774193548387,163.89544435945083 228.87096774193546,164.00043190326105 236.7741935483871,163.96914890881354 244.6774193548387,163.62017923381944 252.5806451612903,164.1091331205425 260.48387096774195,164.14642078844196 268.38709677419354,163.7745192117791 276.2903225806451,163.44309161387272 284.19354838709677,159.37169385881822"
                  fill="none"
                  stroke="hsl(222 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <text
                  x="133.7618435400713"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1K
                </text>
                <text
                  x="212.52368708014265"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1M
                </text>
                <text
                  x="291.285530620214"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1B
                </text>
                <text
                  x="177.5"
                  y="245"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="text-bottom"
                >
                  number of elements
                </text>
                <polyline
                  points="55,10 55,210 300,210"
                  fill="none"
                  stroke="white"
                  stroke-width="2"
                ></polyline>
              </svg>
            </div>
          </div>
        </div>
        <p>
          So uh... yeah. Not even close to before. I mean, the first-to-last
          layout does level out to 2ns per element as I predicted! But random
          layout is <em>way</em> slower for linked lists. Here you can actually
          see the distinction between L1 cache, L2 cache, and RAM pretty
          clearly:
        </p>
        <ul>
          <li>
            For linked lists that fit in the <em>L1 cache</em>, random layout is
            <strong>not discernably slower</strong> than first-to-last.
          </li>
          <li>
            For linked lists that fit in the <em>L2 cache</em>, random layout is
            <strong>about 3x slower</strong> than first-to-last.
          </li>
          <li>
            For linked lists that <em>don't fit in cache</em>, random layout is
            <strong>about 50x slower</strong> than first-to-last.
          </li>
        </ul>
        <h3>Linux desktop</h3>
        <div class="selection">
          <div class="desktop-32bit">
            <p>Here are the <strong>32-bit</strong> results.</p>
          </div>
          <div class="desktop-64bit">
            <p>Here are the <strong>64-bit</strong> results.</p>
          </div>
        </div>
        <div class="selectors">
          <div class="selector">
            <input
              type="radio"
              id="desktop-32bit"
              name="desktop-bits"
              checked
            /><label for="desktop-32bit">32-bit</label
            ><input type="radio" id="desktop-64bit" name="desktop-bits" /><label
              for="desktop-64bit"
              >64-bit</label
            >
          </div>
        </div>
        <div class="selection">
          <div class="desktop-32bit">
            <div class="svg">
              <svg viewBox="0 0 300 250" height="250">
                <text
                  x="0"
                  y="110"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                  transform="rotate(-90 0 110)"
                >
                  time per element
                </text>
                <text
                  x="50"
                  y="186.47058823529412"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  1ns
                </text>
                <text
                  x="50"
                  y="162.94117647058823"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  2ns
                </text>
                <text
                  x="50"
                  y="139.41176470588238"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  4ns
                </text>
                <text
                  x="50"
                  y="115.88235294117648"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  8ns
                </text>
                <text
                  x="50"
                  y="92.35294117647058"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  16ns
                </text>
                <text
                  x="50"
                  y="68.82352941176472"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  32ns
                </text>
                <text
                  x="50"
                  y="45.29411764705884"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  64ns
                </text>
                <text
                  x="50"
                  y="21.764705882352956"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  128ns
                </text>
                <line
                  x1="62.903225806451616"
                  y1="10"
                  x2="62.903225806451616"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="70.80645161290323"
                  y1="10"
                  x2="70.80645161290323"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="78.70967741935483"
                  y1="10"
                  x2="78.70967741935483"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="86.61290322580645"
                  y1="10"
                  x2="86.61290322580645"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="94.51612903225806"
                  y1="10"
                  x2="94.51612903225806"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="102.41935483870967"
                  y1="10"
                  x2="102.41935483870967"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="110.32258064516128"
                  y1="10"
                  x2="110.32258064516128"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="118.2258064516129"
                  y1="10"
                  x2="118.2258064516129"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="126.12903225806451"
                  y1="10"
                  x2="126.12903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="134.03225806451613"
                  y1="10"
                  x2="134.03225806451613"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="141.93548387096774"
                  y1="10"
                  x2="141.93548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="149.83870967741933"
                  y1="10"
                  x2="149.83870967741933"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="157.74193548387098"
                  y1="10"
                  x2="157.74193548387098"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="165.64516129032256"
                  y1="10"
                  x2="165.64516129032256"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="173.54838709677418"
                  y1="10"
                  x2="173.54838709677418"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="181.4516129032258"
                  y1="10"
                  x2="181.4516129032258"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="189.3548387096774"
                  y1="10"
                  x2="189.3548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="197.25806451612902"
                  y1="10"
                  x2="197.25806451612902"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="205.16129032258064"
                  y1="10"
                  x2="205.16129032258064"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="213.06451612903226"
                  y1="10"
                  x2="213.06451612903226"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="220.96774193548387"
                  y1="10"
                  x2="220.96774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="228.87096774193546"
                  y1="10"
                  x2="228.87096774193546"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="236.7741935483871"
                  y1="10"
                  x2="236.7741935483871"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="244.6774193548387"
                  y1="10"
                  x2="244.6774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="252.5806451612903"
                  y1="10"
                  x2="252.5806451612903"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="260.48387096774195"
                  y1="10"
                  x2="260.48387096774195"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="268.38709677419354"
                  y1="10"
                  x2="268.38709677419354"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="276.2903225806451"
                  y1="10"
                  x2="276.2903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="284.19354838709677"
                  y1="10"
                  x2="284.19354838709677"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="292.09677419354836"
                  y1="10"
                  x2="292.09677419354836"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="186.47058823529412"
                  x2="300"
                  y2="186.47058823529412"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="162.94117647058823"
                  x2="300"
                  y2="162.94117647058823"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="139.41176470588238"
                  x2="300"
                  y2="139.41176470588238"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="115.88235294117648"
                  x2="300"
                  y2="115.88235294117648"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="92.35294117647058"
                  x2="300"
                  y2="92.35294117647058"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="68.82352941176472"
                  x2="300"
                  y2="68.82352941176472"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="45.29411764705884"
                  x2="300"
                  y2="45.29411764705884"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="21.764705882352956"
                  x2="300"
                  y2="21.764705882352956"
                  stroke="#444"
                ></line>
                <polyline
                  points="55,80.1817483950687 62.903225806451616,103.8746113061042 70.80645161290323,125.31016956004177 78.70967741935483,147.58855306074906 86.61290322580645,154.84427448184874 94.51612903225806,166.69498273248132 102.41935483870967,171.39239189210193 110.32258064516128,176.46254574737924 118.2258064516129,177.61240651192998 126.12903225806451,179.1358679271816 134.03225806451613,179.61517857902896 141.93548387096774,179.37575317600857 149.83870967741933,177.2132695590169 157.74193548387098,159.18391208486088 165.64516129032256,151.65977738624622 173.54838709677418,144.55236368734654 181.4516129032258,131.26911723702375 189.3548387096774,116.51941308773641 197.25806451612902,109.55669260202625 205.16129032258064,108.05115158623747 213.06451612903226,97.36911414105917 220.96774193548387,66.11001168559682 228.87096774193546,39.708086774532546 236.7741935483871,30.48987468119458 244.6774193548387,27.223320484243146 252.5806451612903,25.306178101353254 260.48387096774195,24.34189558312525 268.38709677419354,23.478232838848953 276.2903225806451,21.25254449226162 284.19354838709677,16.639522699092566"
                  fill="none"
                  stroke="hsl(42 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <polyline
                  points="55,79.30379172523206 62.903225806451616,102.74664390457093 70.80645161290323,123.66995845859694 78.70967741935483,147.88680052431118 86.61290322580645,157.20599447684742 94.51612903225806,166.12514339829178 102.41935483870967,172.26761541208958 110.32258064516128,176.54559111487265 118.2258064516129,178.02139658788846 126.12903225806451,179.45896913529702 134.03225806451613,180.03245206766215 141.93548387096774,180.6219284299605 149.83870967741933,181.18726170331257 157.74193548387098,181.08962479489315 165.64516129032256,180.5061172645301 173.54838709677418,181.29086265310352 181.4516129032258,180.34585861801688 189.3548387096774,180.5334936021172 197.25806451612902,180.5484136094851 205.16129032258064,181.32649549219835 213.06451612903226,180.46326600619832 220.96774193548387,176.82444910404476 228.87096774193546,176.0907889611994 236.7741935483871,175.57035507556594 244.6774193548387,174.80168823974924 252.5806451612903,175.94533875657208 260.48387096774195,177.34442400870572 268.38709677419354,176.19798435292648 276.2903225806451,176.71709094751196 284.19354838709677,175.85193620094816"
                  fill="none"
                  stroke="hsl(222 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <text
                  x="133.7618435400713"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1K
                </text>
                <text
                  x="212.52368708014265"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1M
                </text>
                <text
                  x="291.285530620214"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1B
                </text>
                <text
                  x="177.5"
                  y="245"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="text-bottom"
                >
                  number of elements
                </text>
                <polyline
                  points="55,10 55,210 300,210"
                  fill="none"
                  stroke="white"
                  stroke-width="2"
                ></polyline>
              </svg>
            </div>
          </div>
          <div class="desktop-64bit">
            <div class="svg">
              <svg viewBox="0 0 300 250" height="250">
                <text
                  x="0"
                  y="110"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                  transform="rotate(-90 0 110)"
                >
                  time per element
                </text>
                <text
                  x="50"
                  y="186.47058823529412"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  1ns
                </text>
                <text
                  x="50"
                  y="162.94117647058823"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  2ns
                </text>
                <text
                  x="50"
                  y="139.41176470588238"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  4ns
                </text>
                <text
                  x="50"
                  y="115.88235294117648"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  8ns
                </text>
                <text
                  x="50"
                  y="92.35294117647058"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  16ns
                </text>
                <text
                  x="50"
                  y="68.82352941176472"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  32ns
                </text>
                <text
                  x="50"
                  y="45.29411764705884"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  64ns
                </text>
                <text
                  x="50"
                  y="21.764705882352956"
                  fill="white"
                  text-anchor="end"
                  dominant-baseline="central"
                >
                  128ns
                </text>
                <line
                  x1="62.903225806451616"
                  y1="10"
                  x2="62.903225806451616"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="70.80645161290323"
                  y1="10"
                  x2="70.80645161290323"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="78.70967741935483"
                  y1="10"
                  x2="78.70967741935483"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="86.61290322580645"
                  y1="10"
                  x2="86.61290322580645"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="94.51612903225806"
                  y1="10"
                  x2="94.51612903225806"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="102.41935483870967"
                  y1="10"
                  x2="102.41935483870967"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="110.32258064516128"
                  y1="10"
                  x2="110.32258064516128"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="118.2258064516129"
                  y1="10"
                  x2="118.2258064516129"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="126.12903225806451"
                  y1="10"
                  x2="126.12903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="134.03225806451613"
                  y1="10"
                  x2="134.03225806451613"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="141.93548387096774"
                  y1="10"
                  x2="141.93548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="149.83870967741933"
                  y1="10"
                  x2="149.83870967741933"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="157.74193548387098"
                  y1="10"
                  x2="157.74193548387098"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="165.64516129032256"
                  y1="10"
                  x2="165.64516129032256"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="173.54838709677418"
                  y1="10"
                  x2="173.54838709677418"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="181.4516129032258"
                  y1="10"
                  x2="181.4516129032258"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="189.3548387096774"
                  y1="10"
                  x2="189.3548387096774"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="197.25806451612902"
                  y1="10"
                  x2="197.25806451612902"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="205.16129032258064"
                  y1="10"
                  x2="205.16129032258064"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="213.06451612903226"
                  y1="10"
                  x2="213.06451612903226"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="220.96774193548387"
                  y1="10"
                  x2="220.96774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="228.87096774193546"
                  y1="10"
                  x2="228.87096774193546"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="236.7741935483871"
                  y1="10"
                  x2="236.7741935483871"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="244.6774193548387"
                  y1="10"
                  x2="244.6774193548387"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="252.5806451612903"
                  y1="10"
                  x2="252.5806451612903"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="260.48387096774195"
                  y1="10"
                  x2="260.48387096774195"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="268.38709677419354"
                  y1="10"
                  x2="268.38709677419354"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="276.2903225806451"
                  y1="10"
                  x2="276.2903225806451"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="284.19354838709677"
                  y1="10"
                  x2="284.19354838709677"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="292.09677419354836"
                  y1="10"
                  x2="292.09677419354836"
                  y2="210"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="186.47058823529412"
                  x2="300"
                  y2="186.47058823529412"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="162.94117647058823"
                  x2="300"
                  y2="162.94117647058823"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="139.41176470588238"
                  x2="300"
                  y2="139.41176470588238"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="115.88235294117648"
                  x2="300"
                  y2="115.88235294117648"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="92.35294117647058"
                  x2="300"
                  y2="92.35294117647058"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="68.82352941176472"
                  x2="300"
                  y2="68.82352941176472"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="45.29411764705884"
                  x2="300"
                  y2="45.29411764705884"
                  stroke="#444"
                ></line>
                <line
                  x1="55"
                  y1="21.764705882352956"
                  x2="300"
                  y2="21.764705882352956"
                  stroke="#444"
                ></line>
                <polyline
                  points="55,80.13730706338663 62.903225806451616,102.66030447947217 70.80645161290323,125.42238706940341 78.70967741935483,144.60565363829704 86.61290322580645,153.90471042834918 94.51612903225806,160.17188134894693 102.41935483870967,168.27442238885635 110.32258064516128,169.8983840526863 118.2258064516129,172.03888297420053 126.12903225806451,171.81038999045484 134.03225806451613,171.08402759396503 141.93548387096774,170.30301311121818 149.83870967741933,154.83918237217603 157.74193548387098,147.22952367628852 165.64516129032256,145.84058625579786 173.54838709677418,129.00956748297867 181.4516129032258,115.43408348199156 189.3548387096774,109.20719548234722 197.25806451612902,106.81932620966917 205.16129032258064,98.10719954501909 213.06451612903226,52.424278728830586 220.96774193548387,36.98480081620983 228.87096774193546,30.880673989239227 236.7741935483871,26.805865756909412 244.6774193548387,25.316804113138232 252.5806451612903,24.0728690273136 260.48387096774195,23.247616247222936 268.38709677419354,21.42180234460858 276.2903225806451,16.339594371493916 284.19354838709677,10.124791802106216"
                  fill="none"
                  stroke="hsl(42 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <polyline
                  points="55,78.83042243728127 62.903225806451616,102.50258363719477 70.80645161290323,125.5772943792311 78.70967741935483,147.48074585408057 86.61290322580645,154.9866400578208 94.51612903225806,162.0305987928097 102.41935483870967,167.51039179525958 110.32258064516128,169.84633994027962 118.2258064516129,171.3787877377598 126.12903225806451,173.00108435814636 134.03225806451613,172.20092387076744 141.93548387096774,174.29001626728078 149.83870967741933,175.05535200884628 157.74193548387098,174.69937086553875 165.64516129032256,175.26981397632207 173.54838709677418,174.34522136611932 181.4516129032258,174.49125940520457 189.3548387096774,174.4310531933751 197.25806451612902,173.76595468682353 205.16129032258064,174.05758761738193 213.06451612903226,164.09365160886188 220.96774193548387,160.30343321500027 228.87096774193546,162.26062188326677 236.7741935483871,160.63023504260227 244.6774193548387,162.7068631619906 252.5806451612903,161.65626578469715 260.48387096774195,160.8075181788451 268.38709677419354,161.9078276471389 276.2903225806451,161.71075339765468 284.19354838709677,163.35284190874404"
                  fill="none"
                  stroke="hsl(222 100% 75%)"
                  stroke-width="2"
                  stroke-linejoin="round"
                ></polyline>
                <text
                  x="133.7618435400713"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1K
                </text>
                <text
                  x="212.52368708014265"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1M
                </text>
                <text
                  x="291.285530620214"
                  y="215"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="hanging"
                >
                  1B
                </text>
                <text
                  x="177.5"
                  y="245"
                  fill="white"
                  text-anchor="middle"
                  dominant-baseline="text-bottom"
                >
                  number of elements
                </text>
                <polyline
                  points="55,10 55,210 300,210"
                  fill="none"
                  stroke="white"
                  stroke-width="2"
                ></polyline>
              </svg>
            </div>
          </div>
        </div>
        <h2>Conclusion</h2>
        <p>
          Really I should have done this experiment earlier. Anyways, returning
          back to our two research questions (recall that the specific questions
          referred to experiments from
          <a href="/blog/random-access/">the original post</a>):
        </p>
        <ol>
          <li>
            If the nodes of a linked list are laid out in first-to-last order,
            summing over the list is about 2x slower than summing over an array
            using a separate array of indices in first-to-last order.
          </li>
          <li>
            If the nodes of a linked list are laid out in random order, summing
            over the list is significantly slower than summing over an array
            using an index array in random order:
            <ul>
              <li>
                If everything fits in the L2 cache, a linked list is
                <strong>about 3x slower</strong> than two arrays.
              </li>
              <li>
                If everything does not fit in cache, a linked list is
                <strong>about 15x slower</strong> than two arrays.
              </li>
            </ul>
          </li>
        </ol>
        <p>
          Like before, I hope you enjoyed, and please let me know if I made any
          mistakes!
        </p>
      </div>
    </main>
  </body>
</html>
